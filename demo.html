<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿäº§çº¿æ™ºèƒ½æ§åˆ¶ç³»ç»Ÿ - æ¼”ç¤ºç‰ˆ</title>
    
    <!-- å¼•å…¥Vue 3 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.js"></script>
    
    <!-- å¼•å…¥Element Plus -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-plus@2.4.0/dist/index.css">
    <script src="https://cdn.jsdelivr.net/npm/element-plus@2.4.0/dist/index.full.js"></script>
    
    <!-- å¼•å…¥Element Plus å›¾æ ‡ -->
    <script src="https://cdn.jsdelivr.net/npm/@element-plus/icons-vue@2.1.0/dist/index.min.js"></script>
    
    <!-- å¼•å…¥ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f6fa;
        }
        
        #app {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .header {
            background: linear-gradient(135deg, #2c5f9e 0%, #1e3c72 100%);
            color: white;
            padding: 0 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
        }
        
        .logo-icon {
            font-size: 28px;
            margin-right: 10px;
        }
        
        .status-badge {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #27ae60;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ä¸»å®¹å™¨ */
        .main-container {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* ä¾§è¾¹æ  */
        .sidebar {
            width: 200px;
            background: white;
            box-shadow: 2px 0 8px rgba(0,0,0,0.05);
            overflow-y: auto;
        }
        
        .menu-item {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        
        .menu-item:hover {
            background: #f0f2f5;
        }
        
        .menu-item.active {
            background: #e6f0ff;
            border-left-color: #2c5f9e;
            color: #2c5f9e;
            font-weight: 600;
        }
        
        .menu-icon {
            font-size: 18px;
        }
        
        /* ä¸»å†…å®¹åŒº */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Dashboardæ ·å¼ */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .metric-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .metric-label {
            color: #666;
            font-size: 14px;
        }
        
        .metric-trend {
            font-size: 12px;
            margin-top: 8px;
        }
        
        .trend-up {
            color: #27ae60;
        }
        
        .trend-down {
            color: #e74c3c;
        }
        
        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            width: 100%;
            height: 350px;
            margin-top: 20px;
        }
        
        /* å‘Šè­¦é¢æ¿ */
        .alert-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        
        .alert-item {
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            border-left: 4px solid;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-high {
            background: #fef0f0;
            border-left-color: #e74c3c;
        }
        
        .alert-medium {
            background: #fef9e7;
            border-left-color: #f39c12;
        }
        
        .alert-low {
            background: #e8f5e9;
            border-left-color: #27ae60;
        }
        
        /* å‚æ•°ç½‘æ ¼ */
        .param-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .param-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }
        
        .param-item:hover {
            border-color: #2c5f9e;
            box-shadow: 0 4px 12px rgba(44, 95, 158, 0.15);
        }
        
        .param-name {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .param-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c5f9e;
        }
        
        .param-status {
            margin-top: 8px;
            font-size: 12px;
        }
        
        /* OCRä¸Šä¼ åŒºåŸŸ */
        .upload-area {
            border: 2px dashed #d9d9d9;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            background: #fafafa;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            border-color: #2c5f9e;
            background: #f0f5ff;
        }
        
        .upload-icon {
            font-size: 48px;
            color: #2c5f9e;
            margin-bottom: 15px;
        }
        
        /* æ•°æ®è¡¨æ ¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* æ§åˆ¶å»ºè®®å¡ç‰‡ */
        .suggestion-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .suggestion-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .suggestion-content {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        
        .risk-bar {
            width: 100%;
            height: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .risk-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #f39c12, #e74c3c);
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        
        /* ä»ªè¡¨ç›˜æ ·å¼ */
        .gauge-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .gauge-item {
            height: 250px;
        }
        
        /* æ¨¡å‹åˆ—è¡¨ */
        .model-list {
            margin-top: 20px;
        }
        
        .model-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        
        .model-item:hover {
            border-color: #2c5f9e;
            background: #f8f9fa;
        }
        
        .model-item.active {
            border-color: #27ae60;
            background: #e8f5e9;
        }
        
        .model-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-active {
            background: #27ae60;
            color: white;
        }
        
        .badge-inactive {
            background: #e9ecef;
            color: #666;
        }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }
            
            .menu-item span {
                display: none;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* æ—¶é—´é€‰æ‹©å™¨æ ·å¼ */
        .time-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2c5f9e;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <div class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">âš™ï¸</span>
                    <span>ç”Ÿäº§çº¿æ™ºèƒ½æ§åˆ¶ç³»ç»Ÿ</span>
                </div>
                <div class="status-badge">
                    <div class="status-item">
                        <span class="status-dot"></span>
                        <span>è®¾å¤‡è¿è¡Œä¸­</span>
                    </div>
                    <div class="status-item">
                        <span>â±ï¸ {{currentTime}}</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ä¸»å®¹å™¨ -->
        <div class="main-container">
            <!-- ä¾§è¾¹æ  -->
            <div class="sidebar">
                <div class="menu-item" 
                     :class="{active: currentPage === 'dashboard'}"
                     @click="currentPage = 'dashboard'">
                    <span class="menu-icon">ğŸ“Š</span>
                    <span>é¦–é¡µ</span>
                </div>
                <div class="menu-item" 
                     :class="{active: currentPage === 'data'}"
                     @click="currentPage = 'data'">
                    <span class="menu-icon">ğŸ“</span>
                    <span>æ•°æ®ç®¡ç†</span>
                </div>
                <div class="menu-item" 
                     :class="{active: currentPage === 'model'}"
                     @click="currentPage = 'model'">
                    <span class="menu-icon">ğŸ¤–</span>
                    <span>æ¨¡å‹ä¸­å¿ƒ</span>
                </div>
                <div class="menu-item" 
                     :class="{active: currentPage === 'monitor'}"
                     @click="currentPage = 'monitor'">
                    <span class="menu-icon">ğŸ“¡</span>
                    <span>å®æ—¶ç›‘æ§</span>
                </div>
                <div class="menu-item" 
                     :class="{active: currentPage === 'control'}"
                     @click="currentPage = 'control'">
                    <span class="menu-icon">ğŸ¯</span>
                    <span>æ§åˆ¶å»ºè®®</span>
                </div>
                <div class="menu-item" 
                     :class="{active: currentPage === 'settings'}"
                     @click="currentPage = 'settings'">
                    <span class="menu-icon">âš™ï¸</span>
                    <span>ç³»ç»Ÿè®¾ç½®</span>
                </div>
            </div>
            
            <!-- ä¸»å†…å®¹åŒº -->
            <div class="content">
                <!-- Dashboardé¡µé¢ -->
                <div v-if="currentPage === 'dashboard'">
                    <div class="dashboard-grid">
                        <div class="metric-card">
                            <div class="metric-label">ä»Šæ—¥åœæœºæ¬¡æ•°</div>
                            <div class="metric-value" style="color: #e74c3c;">{{metrics.shutdownCount}}</div>
                            <div class="metric-trend trend-down">â†“ æ¯”æ˜¨å¤©å‡å°‘ 1 æ¬¡</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">ä»Šæ—¥è¿”å·¥æ¬¡æ•°</div>
                            <div class="metric-value" style="color: #f39c12;">{{metrics.reworkCount}}</div>
                            <div class="metric-trend trend-down">â†“ æ¯”æ˜¨å¤©å‡å°‘ 2 æ¬¡</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">è®¾å¤‡è¿è¡Œæ—¶é•¿</div>
                            <div class="metric-value" style="color: #27ae60;">{{metrics.runningHours}}h</div>
                            <div class="metric-trend trend-up">â†‘ è¿è¡Œè‰¯å¥½</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">å¹³å‡è¿›é£é€Ÿç‡</div>
                            <div class="metric-value" style="color: #2c5f9e;">{{metrics.avgWindSpeed}}</div>
                            <div class="metric-trend" style="color: #666;">m/s æ­£å¸¸èŒƒå›´å†…</div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div class="card">
                            <div class="card-title">ğŸ“ˆ è¿›é£é€Ÿç‡è¶‹åŠ¿ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰</div>
                            <div id="trendChart" class="chart-container"></div>
                        </div>
                        
                        <div class="alert-panel">
                            <div class="card-title">ğŸ”” å®æ—¶å‘Šè­¦</div>
                            <div class="alert-item alert-high">
                                <span>âš ï¸</span>
                                <div>
                                    <div style="font-weight: 600;">åœæœºé£é™©ä¸Šå‡</div>
                                    <div style="font-size: 12px; color: #666;">14:25 é£é™©è¾¾åˆ°78%</div>
                                </div>
                            </div>
                            <div class="alert-item alert-medium">
                                <span>âš¡</span>
                                <div>
                                    <div style="font-weight: 600;">å‚æ•°2è¶…å‡ºæ­£å¸¸èŒƒå›´</div>
                                    <div style="font-size: 12px; color: #666;">13:50 å…¥æ–™å«æ°´é‡åé«˜</div>
                                </div>
                            </div>
                            <div class="alert-item alert-low">
                                <span>âœ…</span>
                                <div>
                                    <div style="font-weight: 600;">ç³»ç»Ÿå»ºè®®å·²é‡‡çº³</div>
                                    <div style="font-size: 12px; color: #666;">12:30 è¿›é£é€Ÿç‡å·²è°ƒæ•´</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ’§ å«æ°´é‡åŒYè½´è¶‹åŠ¿</div>
                        <div id="humidityChart" class="chart-container"></div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“… æœ¬å‘¨åœæœºæ—¶é—´è½´</div>
                        <div id="timelineChart" class="chart-container"></div>
                    </div>
                </div>
                
                <!-- æ•°æ®ç®¡ç†é¡µé¢ -->
                <div v-if="currentPage === 'data'">
                    <el-tabs v-model="dataTab" type="border-card">
                        <el-tab-pane label="ğŸ“¤ OCRæ•°æ®ä¸Šä¼ " name="upload">
                            <div class="upload-area" @click="simulateUpload">
                                <div class="upload-icon">ğŸ“„</div>
                                <div style="font-size: 16px; margin-bottom: 10px;">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡/PDF</div>
                                <div style="font-size: 12px; color: #666;">æ”¯æŒæ ¼å¼: JPG, PNG, PDF</div>
                            </div>
                            
                            <div v-if="ocrResults.length > 0" style="margin-top: 30px;">
                                <div class="card-title">ğŸ“Š è¯†åˆ«ç»“æœé¢„è§ˆ</div>
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>æ—¥æœŸ</th>
                                            <th>å‚æ•°1</th>
                                            <th>å‚æ•°2</th>
                                            <th>å‚æ•°3</th>
                                            <th>å‚æ•°4</th>
                                            <th>å‚æ•°5</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="row in ocrResults" :key="row.date">
                                            <td>{{row.date}}</td>
                                            <td>{{row.p1}}</td>
                                            <td>{{row.p2}}</td>
                                            <td>{{row.p3}}</td>
                                            <td>{{row.p4}}</td>
                                            <td>{{row.p5}}</td>
                                            <td>
                                                <el-button type="success" size="small">âœ“ç¡®è®¤</el-button>
                                                <el-button type="danger" size="small">âœ—åˆ é™¤</el-button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="btn-group">
                                    <el-button type="primary">æ‰¹é‡ç¡®è®¤å…¥åº“</el-button>
                                    <el-button>å¯¼å‡ºCSV</el-button>
                                </div>
                            </div>
                        </el-tab-pane>
                        
                        <el-tab-pane label="âœï¸ æ‰‹å·¥æ•°æ®å½•å…¥" name="manual">
                            <div class="card">
                                <div style="margin-bottom: 20px;">
                                    <label style="font-weight: 600; margin-right: 10px;">æ—¶é—´æˆ³:</label>
                                    <el-date-picker 
                                        v-model="manualInputTime" 
                                        type="datetime" 
                                        placeholder="é€‰æ‹©æ—¶é—´">
                                    </el-date-picker>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                                    <div v-for="i in 20" :key="i">
                                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">
                                            å‚æ•°{{i}} {{getParamName(i)}}:
                                        </label>
                                        <el-input 
                                            v-model="manualInputData['p' + i]" 
                                            :placeholder="'è¯·è¾“å…¥å‚æ•°' + i">
                                        </el-input>
                                    </div>
                                </div>
                                
                                <div class="btn-group">
                                    <el-button type="primary" @click="submitManualData">æäº¤</el-button>
                                    <el-button @click="resetManualData">é‡ç½®</el-button>
                                    <el-button>ä¿å­˜è‰ç¨¿</el-button>
                                </div>
                            </div>
                        </el-tab-pane>
                        
                        <el-tab-pane label="ğŸ” å†å²æ•°æ®æŸ¥è¯¢" name="query">
                            <div class="card">
                                <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 20px;">
                                    <label>æ—¥æœŸèŒƒå›´:</label>
                                    <el-date-picker 
                                        v-model="queryDateRange" 
                                        type="daterange" 
                                        range-separator="è‡³"
                                        start-placeholder="å¼€å§‹æ—¥æœŸ"
                                        end-placeholder="ç»“æŸæ—¥æœŸ">
                                    </el-date-picker>
                                    <el-button type="primary">æŸ¥è¯¢</el-button>
                                    <el-button>é‡ç½®</el-button>
                                </div>
                                
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>æ—¶é—´</th>
                                            <th>å‚æ•°1</th>
                                            <th>å‚æ•°2</th>
                                            <th>å‚æ•°3</th>
                                            <th>åœæœºæ ‡è®°</th>
                                            <th>æ“ä½œ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="row in historyData" :key="row.time">
                                            <td>{{row.time}}</td>
                                            <td>{{row.p1}}</td>
                                            <td>{{row.p2}}</td>
                                            <td>{{row.p3}}</td>
                                            <td>
                                                <span v-if="row.shutdown" style="color: #e74c3c; font-weight: 600;">
                                                    âš ï¸ åœæœº
                                                </span>
                                                <span v-else style="color: #27ae60;">âœ“ æ­£å¸¸</span>
                                            </td>
                                            <td>
                                                <el-button type="text">è¯¦æƒ…</el-button>
                                                <el-button type="text">ç¼–è¾‘</el-button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                
                                <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>å…± 1250 æ¡è®°å½•</div>
                                    <div class="btn-group" style="margin: 0;">
                                        <el-button>å¯¼å‡ºExcel</el-button>
                                        <el-button>å¯¼å‡ºCSV</el-button>
                                    </div>
                                </div>
                            </div>
                        </el-tab-pane>
                    </el-tabs>
                </div>
                
                <!-- æ¨¡å‹ä¸­å¿ƒé¡µé¢ -->
                <div v-if="currentPage === 'model'">
                    <div class="card">
                        <div class="card-title">ğŸ¤– æ¨¡å‹è®­ç»ƒä¸ç®¡ç†</div>
                        <div style="padding: 15px; background: #e8f5e9; border-radius: 8px; margin-bottom: 20px;">
                            <div style="font-weight: 600; margin-bottom: 5px;">å½“å‰æ¿€æ´»æ¨¡å‹</div>
                            <div>Model_v2.3 (å‡†ç¡®ç‡: 87.5%)</div>
                        </div>
                        
                        <div class="model-list">
                            <div class="model-item active">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px;">Model_v2.3</div>
                                    <div style="font-size: 12px; color: #666;">2024-10-30 è®­ç»ƒ | å‡†ç¡®ç‡: 87.5%</div>
                                </div>
                                <div>
                                    <span class="model-badge badge-active">æ¿€æ´»ä¸­</span>
                                    <el-button type="text" style="margin-left: 10px;">æŸ¥çœ‹è¯¦æƒ…</el-button>
                                </div>
                            </div>
                            
                            <div class="model-item">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px;">Model_v2.2</div>
                                    <div style="font-size: 12px; color: #666;">2024-10-20 è®­ç»ƒ | å‡†ç¡®ç‡: 84.2%</div>
                                </div>
                                <div>
                                    <span class="model-badge badge-inactive">å·²åœç”¨</span>
                                    <el-button type="text" style="margin-left: 10px;">é‡æ–°æ¿€æ´»</el-button>
                                </div>
                            </div>
                            
                            <div class="model-item">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px;">Model_v2.1</div>
                                    <div style="font-size: 12px; color: #666;">2024-10-10 è®­ç»ƒ | å‡†ç¡®ç‡: 81.8%</div>
                                </div>
                                <div>
                                    <span class="model-badge badge-inactive">å½’æ¡£</span>
                                    <el-button type="text" style="margin-left: 10px;">åˆ é™¤</el-button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“ˆ æ¨¡å‹è®­ç»ƒ</div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">æ—¶é—´çª—å£ï¼ˆå°æ—¶ï¼‰:</label>
                                <el-input-number v-model="trainConfig.timeWindow" :min="1" :max="72"></el-input-number>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">é¢„æµ‹æå‰é‡ï¼ˆå°æ—¶ï¼‰:</label>
                                <el-input-number v-model="trainConfig.predictionHorizon" :min="1" :max="12"></el-input-number>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">åœæœºæˆæœ¬æƒé‡:</label>
                                <el-slider v-model="trainConfig.shutdownWeight" :max="1" :step="0.1"></el-slider>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">è¿”å·¥æˆæœ¬æƒé‡:</label>
                                <el-slider v-model="trainConfig.reworkWeight" :max="1" :step="0.1"></el-slider>
                            </div>
                        </div>
                        
                        <div class="btn-group">
                            <el-button type="primary" @click="startTraining">å¼€å§‹è®­ç»ƒ</el-button>
                            <el-button>ä½¿ç”¨é»˜è®¤å‚æ•°</el-button>
                        </div>
                        
                        <div v-if="isTraining" style="margin-top: 30px;">
                            <div style="font-weight: 600; margin-bottom: 10px;">è®­ç»ƒè¿›åº¦:</div>
                            <el-progress :percentage="trainingProgress" :status="trainingProgress === 100 ? 'success' : ''"></el-progress>
                            <div style="margin-top: 10px; color: #666;">é¢„è®¡å‰©ä½™: {{estimatedTime}} åˆ†é’Ÿ</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“Š æ¨¡å‹è¯„ä¼°æŒ‡æ ‡</div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px;">
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                                <div style="font-size: 32px; font-weight: bold; color: #2c5f9e;">87.5%</div>
                                <div style="color: #666; margin-top: 5px;">å‡†ç¡®ç‡</div>
                            </div>
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                                <div style="font-size: 32px; font-weight: bold; color: #27ae60;">82.3%</div>
                                <div style="color: #666; margin-top: 5px;">å¬å›ç‡</div>
                            </div>
                            <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                                <div style="font-size: 32px; font-weight: bold; color: #f39c12;">84.8%</div>
                                <div style="color: #666; margin-top: 5px;">F1åˆ†æ•°</div>
                            </div>
                        </div>
                        <div id="modelMetricsChart" class="chart-container"></div>
                    </div>
                </div>
                
                <!-- å®æ—¶ç›‘æ§é¡µé¢ -->
                <div v-if="currentPage === 'monitor'">
                    <div class="card">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
                            <div style="padding: 15px; background: #e8f5e9; border-radius: 8px;">
                                <div style="color: #666; font-size: 14px;">è®¾å¤‡çŠ¶æ€</div>
                                <div style="font-size: 24px; font-weight: bold; color: #27ae60; margin-top: 5px;">
                                    â— è¿è¡Œä¸­
                                </div>
                                <div style="font-size: 12px; color: #666; margin-top: 5px;">è¿è¡Œæ—¶é•¿: 18:32:45</div>
                            </div>
                            <div style="padding: 15px; background: #e3f2fd; border-radius: 8px;">
                                <div style="color: #666; font-size: 14px;">è·ä¸Šæ¬¡åœæœº</div>
                                <div style="font-size: 24px; font-weight: bold; color: #2c5f9e; margin-top: 5px;">
                                    72å°æ—¶15åˆ†
                                </div>
                            </div>
                            <div style="padding: 15px; background: #fff3e0; border-radius: 8px;">
                                <div style="color: #666; font-size: 14px;">æœ¬å‘¨åœæœºæ¬¡æ•°</div>
                                <div style="font-size: 24px; font-weight: bold; color: #f39c12; margin-top: 5px;">
                                    2æ¬¡
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-title">ğŸŒ¡ï¸ æ ¸å¿ƒå‚æ•°å®æ—¶æ˜¾ç¤º</div>
                        <div class="gauge-container">
                            <div id="gauge1" class="gauge-item"></div>
                            <div id="gauge2" class="gauge-item"></div>
                            <div id="gauge3" class="gauge-item"></div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“Š 20ä¸ªå‚æ•°ç›‘æ§ç½‘æ ¼</div>
                        <div class="param-grid">
                            <div v-for="i in 20" :key="i" class="param-item">
                                <div class="param-name">å‚æ•°{{i}} {{getParamName(i)}}</div>
                                <div class="param-value">{{getRandomValue(i)}}</div>
                                <div class="param-status">
                                    <span v-if="Math.random() > 0.8" style="color: #f39c12;">âš ï¸ åé«˜</span>
                                    <span v-else style="color: #27ae60;">âœ“ æ­£å¸¸</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“ˆ å®æ—¶è¶‹åŠ¿å›¾ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰</div>
                        <div id="realtimeTrendChart" class="chart-container"></div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ”” å®æ—¶å‘Šè­¦</div>
                        <div class="alert-item alert-medium">
                            <span>âš¡</span>
                            <div>
                                <div style="font-weight: 600;">14:25 å‚æ•°2è¶…å‡ºæ­£å¸¸èŒƒå›´</div>
                                <div style="font-size: 12px; color: #666;">å…¥æ–™å«æ°´é‡ä¸º 18.2%ï¼Œå»ºè®®æ£€æŸ¥</div>
                            </div>
                            <el-button type="text">æŸ¥çœ‹</el-button>
                        </div>
                        <div class="alert-item alert-high">
                            <span>âš ï¸</span>
                            <div>
                                <div style="font-weight: 600;">13:50 åœæœºé£é™©ä¸Šå‡è‡³35%</div>
                                <div style="font-size: 12px; color: #666;">å»ºè®®é™ä½è¿›é£é€Ÿç‡</div>
                            </div>
                            <el-button type="text">æŸ¥çœ‹</el-button>
                        </div>
                    </div>
                </div>
                
                <!-- æ§åˆ¶å»ºè®®é¡µé¢ -->
                <div v-if="currentPage === 'control'">
                    <div class="suggestion-card">
                        <div class="suggestion-title">ğŸ’¡ AIæ™ºèƒ½æ§åˆ¶å»ºè®®</div>
                        <div class="suggestion-content">
                            <div style="font-size: 18px; font-weight: 600; margin-bottom: 15px;">
                                å»ºè®®æ“ä½œ: é™ä½è¿›é£é€Ÿç‡
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div>
                                    <div style="font-size: 14px; margin-bottom: 5px;">å½“å‰è¿›é£é€Ÿç‡</div>
                                    <div style="font-size: 28px; font-weight: bold;">45.2 m/s</div>
                                </div>
                                <div>
                                    <div style="font-size: 14px; margin-bottom: 5px;">å»ºè®®è¿›é£é€Ÿç‡</div>
                                    <div style="font-size: 28px; font-weight: bold;">42.0 m/s</div>
                                    <div style="font-size: 14px; margin-top: 5px;">(-7.1%)</div>
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 8px;">
                                <div style="font-weight: 600; margin-bottom: 10px;">é¢„æœŸæ•ˆæœ:</div>
                                <div style="margin-bottom: 8px;">âœ“ åœæœºé£é™©é™ä½è‡³ 45%</div>
                                <div style="margin-bottom: 8px;">âš ï¸ å‡ºæ–™å«æ°´é‡å‡é«˜è‡³ 2.8%</div>
                                <div>âœ“ èƒ½è€—é™ä½ 8%</div>
                            </div>
                            <div style="margin-top: 15px;">
                                ç½®ä¿¡åº¦: â˜…â˜…â˜…â˜…â˜† (85%)
                            </div>
                            <div class="btn-group">
                                <el-button type="success" size="large">é‡‡çº³å»ºè®®</el-button>
                                <el-button size="large">å¿½ç•¥</el-button>
                                <el-button type="info" size="large">æŸ¥çœ‹è¯¦ç»†åˆ†æ</el-button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">âš ï¸ å½“å‰çŠ¶æ€è¯„ä¼°</div>
                        <div style="margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="font-weight: 600;">åœæœºé£é™©</span>
                                <span style="font-weight: bold; color: #e74c3c;">78% [é«˜é£é™©]</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 78%;">78%</div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="font-weight: 600;">è¿”å·¥é£é™©</span>
                                <span style="font-weight: bold; color: #27ae60;">25% [ä½é£é™©]</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 25%; background: #27ae60;">25%</div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="font-weight: 600;">èƒ½è€—æ°´å¹³</span>
                                <span style="font-weight: bold; color: #2c5f9e;">52% [æ­£å¸¸]</span>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-fill" style="width: 52%; background: #2c5f9e;">52%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“‹ å»ºè®®å†å²è®°å½•</div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>æ—¶é—´</th>
                                    <th>å»ºè®®</th>
                                    <th>æ˜¯å¦é‡‡çº³</th>
                                    <th>å®é™…æ•ˆæœ</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2024-10-31 14:20</td>
                                    <td>é™ä½è¿›é£é€Ÿç‡è‡³ 42.0 m/s</td>
                                    <td><span style="color: #27ae60; font-weight: 600;">âœ“ å·²é‡‡çº³</span></td>
                                    <td>åœæœºé£é™©â†“ 15%</td>
                                    <td><el-button type="text">è¯¦æƒ…</el-button></td>
                                </tr>
                                <tr>
                                    <td>2024-10-31 12:30</td>
                                    <td>æé«˜è¿›é£é€Ÿç‡è‡³ 48.0 m/s</td>
                                    <td><span style="color: #e74c3c; font-weight: 600;">âœ— æœªé‡‡çº³</span></td>
                                    <td>-</td>
                                    <td><el-button type="text">è¯¦æƒ…</el-button></td>
                                </tr>
                                <tr>
                                    <td>2024-10-31 10:15</td>
                                    <td>ä¿æŒå½“å‰é€Ÿç‡</td>
                                    <td><span style="color: #27ae60; font-weight: 600;">âœ“ å·²é‡‡çº³</span></td>
                                    <td>è¿è¡Œç¨³å®š</td>
                                    <td><el-button type="text">è¯¦æƒ…</el-button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ”„ æ‰‹åŠ¨æ¨¡æ‹Ÿ</div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <label style="font-weight: 600;">æ¨¡æ‹Ÿè¿›é£é€Ÿç‡:</label>
                            <el-input-number v-model="simulateWindSpeed" :min="30" :max="60" :step="0.5"></el-input-number>
                            <span>m/s</span>
                            <el-button type="primary" @click="calculateSimulation">è®¡ç®—é¢„æµ‹</el-button>
                        </div>
                        
                        <div v-if="simulationResult" style="margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                                <div>
                                    <div style="color: #666; font-size: 14px;">é¢„æµ‹åœæœºé£é™©</div>
                                    <div style="font-size: 28px; font-weight: bold; color: #e74c3c; margin-top: 5px;">
                                        {{simulationResult.shutdownRisk}}%
                                    </div>
                                </div>
                                <div>
                                    <div style="color: #666; font-size: 14px;">é¢„æµ‹å‡ºæ–™å«æ°´é‡</div>
                                    <div style="font-size: 28px; font-weight: bold; color: #2c5f9e; margin-top: 5px;">
                                        {{simulationResult.humidity}}%
                                    </div>
                                </div>
                                <div>
                                    <div style="color: #666; font-size: 14px;">èƒ½è€—å˜åŒ–</div>
                                    <div style="font-size: 28px; font-weight: bold; color: #27ae60; margin-top: 5px;">
                                        {{simulationResult.energyChange}}%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç³»ç»Ÿè®¾ç½®é¡µé¢ -->
                <div v-if="currentPage === 'settings'">
                    <div class="card">
                        <div class="card-title">ğŸšï¸ å‚æ•°é…ç½®</div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>å‚æ•°ç¼–å·</th>
                                    <th>å‚æ•°åç§°</th>
                                    <th>å•ä½</th>
                                    <th>æ­£å¸¸èŒƒå›´</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>å‚æ•°1</td>
                                    <td><el-input v-model="paramSettings[0].name" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[0].unit" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[0].range" size="small"></el-input></td>
                                    <td><el-button type="text">ä¿å­˜</el-button></td>
                                </tr>
                                <tr>
                                    <td>å‚æ•°2</td>
                                    <td><el-input v-model="paramSettings[1].name" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[1].unit" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[1].range" size="small"></el-input></td>
                                    <td><el-button type="text">ä¿å­˜</el-button></td>
                                </tr>
                                <tr>
                                    <td>å‚æ•°3</td>
                                    <td><el-input v-model="paramSettings[2].name" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[2].unit" size="small"></el-input></td>
                                    <td><el-input v-model="paramSettings[2].range" size="small"></el-input></td>
                                    <td><el-button type="text">ä¿å­˜</el-button></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="btn-group">
                            <el-button type="primary">ä¿å­˜å…¨éƒ¨é…ç½®</el-button>
                            <el-button>æ¢å¤é»˜è®¤</el-button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“ é˜ˆå€¼è®¾ç½®</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">å‡ºæ–™å«æ°´é‡ä¸Šé™ (%):</label>
                                <el-input-number v-model="thresholds.humidityLimit" :min="0" :max="10" :step="0.1"></el-input-number>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">åœæœºé£é™©å‘Šè­¦é˜ˆå€¼ (%):</label>
                                <el-input-number v-model="thresholds.riskThreshold" :min="0" :max="100"></el-input-number>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">è¿›é£é€Ÿç‡æœ€å°å€¼ (m/s):</label>
                                <el-input-number v-model="thresholds.windSpeedMin" :min="0" :max="100"></el-input-number>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">è¿›é£é€Ÿç‡æœ€å¤§å€¼ (m/s):</label>
                                <el-input-number v-model="thresholds.windSpeedMax" :min="0" :max="100"></el-input-number>
                            </div>
                        </div>
                        <div class="btn-group">
                            <el-button type="primary">ä¿å­˜è®¾ç½®</el-button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ”” å‘Šè­¦è§„åˆ™</div>
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <el-checkbox v-model="alertRules.highRisk" size="large">
                                åœæœºé£é™©è¶…è¿‡è®¾å®šé˜ˆå€¼æ—¶å‘Šè­¦
                            </el-checkbox>
                            <el-checkbox v-model="alertRules.highHumidity" size="large">
                                å«æ°´é‡è¶…æ ‡æ—¶å‘Šè­¦
                            </el-checkbox>
                            <el-checkbox v-model="alertRules.paramOutOfRange" size="large">
                                å‚æ•°è¶…å‡ºæ­£å¸¸èŒƒå›´æ—¶å‘Šè­¦
                            </el-checkbox>
                            <el-checkbox v-model="alertRules.emailNotification" size="large">
                                å¯ç”¨é‚®ä»¶é€šçŸ¥
                            </el-checkbox>
                            <el-checkbox v-model="alertRules.popupNotification" size="large">
                                å¯ç”¨é¡µé¢å¼¹çª—æé†’
                            </el-checkbox>
                        </div>
                        <div class="btn-group">
                            <el-button type="primary">ä¿å­˜è§„åˆ™</el-button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">ğŸ“¤ æ•°æ®å¯¼å…¥å¯¼å‡º</div>
                        <div class="btn-group">
                            <el-button type="primary">å¯¼å‡ºå…¨éƒ¨å†å²æ•°æ®</el-button>
                            <el-button>å¯¼å‡ºæ¨¡å‹é…ç½®</el-button>
                            <el-button>å¯¼å…¥é…ç½®æ–‡ä»¶</el-button>
                            <el-button type="danger">æ¸…ç©ºæ‰€æœ‰æ•°æ®</el-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const { createApp } = Vue;
        const { ElMessage } = ElementPlus;
        
        createApp({
            data() {
                return {
                    currentPage: 'dashboard',
                    currentTime: '',
                    dataTab: 'upload',
                    
                    // Dashboardæ•°æ®
                    metrics: {
                        shutdownCount: 0,
                        reworkCount: 1,
                        runningHours: 18.5,
                        avgWindSpeed: 45.2
                    },
                    
                    // OCRè¯†åˆ«ç»“æœ
                    ocrResults: [],
                    
                    // æ‰‹å·¥å½•å…¥æ•°æ®
                    manualInputTime: new Date(),
                    manualInputData: {},
                    
                    // å†å²æ•°æ®æŸ¥è¯¢
                    queryDateRange: [],
                    historyData: [
                        { time: '2024-10-31 14:00', p1: 45.2, p2: 15.8, p3: 2.3, shutdown: false },
                        { time: '2024-10-31 13:00', p1: 47.5, p2: 16.2, p3: 2.1, shutdown: false },
                        { time: '2024-10-31 12:00', p1: 46.8, p2: 15.5, p3: 2.4, shutdown: true },
                        { time: '2024-10-31 11:00', p1: 44.3, p2: 16.8, p3: 2.6, shutdown: false },
                        { time: '2024-10-31 10:00', p1: 43.9, p2: 15.2, p3: 2.2, shutdown: false },
                    ],
                    
                    // æ¨¡å‹è®­ç»ƒé…ç½®
                    trainConfig: {
                        timeWindow: 24,
                        predictionHorizon: 2,
                        shutdownWeight: 0.5,
                        reworkWeight: 0.3
                    },
                    isTraining: false,
                    trainingProgress: 0,
                    estimatedTime: 0,
                    
                    // æ§åˆ¶å»ºè®®
                    simulateWindSpeed: 45.2,
                    simulationResult: null,
                    
                    // å‚æ•°è®¾ç½®
                    paramSettings: [
                        { name: 'è¿›é£é€Ÿç‡', unit: 'm/s', range: '40-50' },
                        { name: 'å…¥æ–™å«æ°´é‡', unit: '%', range: '10-20' },
                        { name: 'å‡ºæ–™å«æ°´é‡', unit: '%', range: '0-3' }
                    ],
                    
                    // é˜ˆå€¼è®¾ç½®
                    thresholds: {
                        humidityLimit: 3.0,
                        riskThreshold: 60,
                        windSpeedMin: 40,
                        windSpeedMax: 50
                    },
                    
                    // å‘Šè­¦è§„åˆ™
                    alertRules: {
                        highRisk: true,
                        highHumidity: true,
                        paramOutOfRange: true,
                        emailNotification: false,
                        popupNotification: true
                    }
                }
            },
            
            mounted() {
                this.updateTime();
                setInterval(this.updateTime, 1000);
                
                // åˆå§‹åŒ–å›¾è¡¨
                this.$nextTick(() => {
                    this.initCharts();
                });
            },
            
            watch: {
                currentPage(newPage) {
                    this.$nextTick(() => {
                        if (newPage === 'dashboard') {
                            this.initCharts();
                        } else if (newPage === 'monitor') {
                            this.initMonitorCharts();
                        } else if (newPage === 'model') {
                            this.initModelCharts();
                        }
                    });
                }
            },
            
            methods: {
                updateTime() {
                    const now = new Date();
                    this.currentTime = now.toLocaleString('zh-CN', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    });
                },
                
                simulateUpload() {
                    ElMessage.info('æ­£åœ¨æ¨¡æ‹ŸOCRè¯†åˆ«...');
                    
                    setTimeout(() => {
                        this.ocrResults = [
                            { date: '2024-10-25', p1: 45.2, p2: 15.8, p3: 2.3, p4: 78.5, p5: 120 },
                            { date: '2024-10-26', p1: 46.1, p2: 16.2, p3: 2.1, p4: 79.2, p5: 118 },
                            { date: '2024-10-27', p1: 44.8, p2: 15.5, p3: 2.4, p4: 77.8, p5: 122 },
                            { date: '2024-10-28', p1: 47.3, p2: 16.8, p3: 2.6, p4: 80.1, p5: 125 },
                            { date: '2024-10-29', p1: 45.5, p2: 15.2, p3: 2.2, p4: 78.9, p5: 119 }
                        ];
                        ElMessage.success('OCRè¯†åˆ«å®Œæˆï¼è¯·æ£€æŸ¥å¹¶ç¡®è®¤æ•°æ®');
                    }, 1500);
                },
                
                submitManualData() {
                    ElMessage.success('æ•°æ®æäº¤æˆåŠŸï¼');
                    this.resetManualData();
                },
                
                resetManualData() {
                    this.manualInputData = {};
                    this.manualInputTime = new Date();
                },
                
                startTraining() {
                    this.isTraining = true;
                    this.trainingProgress = 0;
                    this.estimatedTime = 5;
                    
                    const interval = setInterval(() => {
                        this.trainingProgress += 10;
                        this.estimatedTime = Math.max(0, this.estimatedTime - 0.5);
                        
                        if (this.trainingProgress >= 100) {
                            clearInterval(interval);
                            ElMessage.success('æ¨¡å‹è®­ç»ƒå®Œæˆï¼');
                            setTimeout(() => {
                                this.isTraining = false;
                            }, 1000);
                        }
                    }, 500);
                },
                
                calculateSimulation() {
                    const baseRisk = 78;
                    const basHumidity = 2.3;
                    const baseEnergy = 100;
                    
                    const speedDiff = this.simulateWindSpeed - 45.2;
                    
                    this.simulationResult = {
                        shutdownRisk: Math.max(0, Math.min(100, Math.round(baseRisk + speedDiff * 2))),
                        humidity: Math.max(0, (baseHumidity - speedDiff * 0.05).toFixed(1)),
                        energyChange: Math.round(speedDiff * 1.5)
                    };
                    
                    ElMessage.success('é¢„æµ‹è®¡ç®—å®Œæˆï¼');
                },
                
                getParamName(index) {
                    const names = ['è¿›é£é€Ÿç‡', 'å…¥æ–™å«æ°´é‡', 'å‡ºæ–™å«æ°´é‡', 'æ¸©åº¦', 'æ¹¿åº¦', 'å‹åŠ›'];
                    return names[index - 1] || '';
                },
                
                getRandomValue(index) {
                    const values = {
                        1: 45.2, 2: 15.8, 3: 2.3, 4: 78.5, 5: 120,
                        6: 35.2, 7: 68.5, 8: 92.3, 9: 45.6, 10: 78.9
                    };
                    return values[index] || (Math.random() * 100).toFixed(1);
                },
                
                initCharts() {
                    // è¿›é£é€Ÿç‡è¶‹åŠ¿å›¾
                    const trendChart = echarts.init(document.getElementById('trendChart'));
                    const hours = [];
                    const windSpeed = [];
                    
                    for (let i = 23; i >= 0; i--) {
                        const time = new Date();
                        time.setHours(time.getHours() - i);
                        hours.push(time.getHours() + ':00');
                        windSpeed.push((45 + Math.random() * 5).toFixed(1));
                    }
                    
                    trendChart.setOption({
                        tooltip: { trigger: 'axis' },
                        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                        xAxis: {
                            type: 'category',
                            data: hours,
                            boundaryGap: false
                        },
                        yAxis: {
                            type: 'value',
                            name: 'è¿›é£é€Ÿç‡ (m/s)'
                        },
                        series: [{
                            name: 'è¿›é£é€Ÿç‡',
                            type: 'line',
                            smooth: true,
                            data: windSpeed,
                            areaStyle: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    { offset: 0, color: 'rgba(44, 95, 158, 0.3)' },
                                    { offset: 1, color: 'rgba(44, 95, 158, 0.05)' }
                                ])
                            },
                            lineStyle: { color: '#2c5f9e', width: 3 },
                            itemStyle: { color: '#2c5f9e' }
                        }]
                    });
                    
                    // å«æ°´é‡åŒYè½´è¶‹åŠ¿å›¾
                    const humidityChart = echarts.init(document.getElementById('humidityChart'));
                    const inHumidity = [];
                    const outHumidity = [];
                    
                    for (let i = 0; i < 24; i++) {
                        inHumidity.push((15 + Math.random() * 3).toFixed(1));
                        outHumidity.push((2 + Math.random() * 0.8).toFixed(1));
                    }
                    
                    humidityChart.setOption({
                        tooltip: { trigger: 'axis' },
                        legend: { data: ['å…¥æ–™å«æ°´é‡', 'å‡ºæ–™å«æ°´é‡'] },
                        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                        xAxis: {
                            type: 'category',
                            data: hours
                        },
                        yAxis: [
                            {
                                type: 'value',
                                name: 'å…¥æ–™å«æ°´é‡ (%)',
                                position: 'left'
                            },
                            {
                                type: 'value',
                                name: 'å‡ºæ–™å«æ°´é‡ (%)',
                                position: 'right'
                            }
                        ],
                        series: [
                            {
                                name: 'å…¥æ–™å«æ°´é‡',
                                type: 'line',
                                data: inHumidity,
                                smooth: true,
                                lineStyle: { color: '#f39c12', width: 2 },
                                itemStyle: { color: '#f39c12' }
                            },
                            {
                                name: 'å‡ºæ–™å«æ°´é‡',
                                type: 'line',
                                yAxisIndex: 1,
                                data: outHumidity,
                                smooth: true,
                                lineStyle: { color: '#27ae60', width: 2 },
                                itemStyle: { color: '#27ae60' }
                            }
                        ]
                    });
                    
                    // åœæœºæ—¶é—´è½´
                    const timelineChart = echarts.init(document.getElementById('timelineChart'));
                    const days = ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'];
                    const shutdowns = [
                        { value: [0, 0, 0], itemStyle: { color: '#27ae60' } },
                        { value: [1, 1, 1], itemStyle: { color: '#e74c3c' } },
                        { value: [2, 0, 0], itemStyle: { color: '#27ae60' } },
                        { value: [3, 0, 0], itemStyle: { color: '#27ae60' } },
                        { value: [4, 1, 1], itemStyle: { color: '#e74c3c' } },
                        { value: [5, 0, 0], itemStyle: { color: '#27ae60' } },
                        { value: [6, 0, 0], itemStyle: { color: '#27ae60' } }
                    ];
                    
                    timelineChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            formatter: function(params) {
                                const day = params[0].name;
                                const status = params[0].value[2] === 1 ? 'å‘ç”Ÿåœæœº' : 'æ­£å¸¸è¿è¡Œ';
                                return day + '<br/>' + status;
                            }
                        },
                        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                        xAxis: {
                            type: 'category',
                            data: days
                        },
                        yAxis: {
                            type: 'value',
                            max: 1,
                            show: false
                        },
                        series: [{
                            type: 'scatter',
                            symbolSize: 30,
                            data: shutdowns
                        }]
                    });
                    
                    // å“åº”å¼è°ƒæ•´
                    window.addEventListener('resize', () => {
                        trendChart.resize();
                        humidityChart.resize();
                        timelineChart.resize();
                    });
                },
                
                initMonitorCharts() {
                    // ä»ªè¡¨ç›˜1 - è¿›é£é€Ÿç‡
                    const gauge1 = echarts.init(document.getElementById('gauge1'));
                    gauge1.setOption({
                        series: [{
                            type: 'gauge',
                            min: 0,
                            max: 100,
                            splitNumber: 10,
                            radius: '80%',
                            axisLine: {
                                lineStyle: {
                                    width: 20,
                                    color: [
                                        [0.4, '#27ae60'],
                                        [0.7, '#f39c12'],
                                        [1, '#e74c3c']
                                    ]
                                }
                            },
                            pointer: { width: 5 },
                            title: {
                                offsetCenter: [0, '80%'],
                                fontSize: 16,
                                color: '#333'
                            },
                            detail: {
                                fontSize: 28,
                                offsetCenter: [0, '50%'],
                                valueAnimation: true,
                                formatter: '{value} m/s',
                                color: '#2c5f9e'
                            },
                            data: [{ value: 45.2, name: 'è¿›é£é€Ÿç‡' }]
                        }]
                    });
                    
                    // ä»ªè¡¨ç›˜2 - å…¥æ–™å«æ°´é‡
                    const gauge2 = echarts.init(document.getElementById('gauge2'));
                    gauge2.setOption({
                        series: [{
                            type: 'gauge',
                            min: 0,
                            max: 30,
                            splitNumber: 6,
                            radius: '80%',
                            axisLine: {
                                lineStyle: {
                                    width: 20,
                                    color: [
                                        [0.5, '#27ae60'],
                                        [0.8, '#f39c12'],
                                        [1, '#e74c3c']
                                    ]
                                }
                            },
                            pointer: { width: 5 },
                            title: {
                                offsetCenter: [0, '80%'],
                                fontSize: 16,
                                color: '#333'
                            },
                            detail: {
                                fontSize: 28,
                                offsetCenter: [0, '50%'],
                                valueAnimation: true,
                                formatter: '{value} %',
                                color: '#f39c12'
                            },
                            data: [{ value: 15.8, name: 'å…¥æ–™å«æ°´é‡' }]
                        }]
                    });
                    
                    // ä»ªè¡¨ç›˜3 - å‡ºæ–™å«æ°´é‡
                    const gauge3 = echarts.init(document.getElementById('gauge3'));
                    gauge3.setOption({
                        series: [{
                            type: 'gauge',
                            min: 0,
                            max: 5,
                            splitNumber: 5,
                            radius: '80%',
                            axisLine: {
                                lineStyle: {
                                    width: 20,
                                    color: [
                                        [0.6, '#27ae60'],
                                        [0.9, '#f39c12'],
                                        [1, '#e74c3c']
                                    ]
                                }
                            },
                            pointer: { width: 5 },
                            title: {
                                offsetCenter: [0, '80%'],
                                fontSize: 16,
                                color: '#333'
                            },
                            detail: {
                                fontSize: 28,
                                offsetCenter: [0, '50%'],
                                valueAnimation: true,
                                formatter: '{value} %',
                                color: '#27ae60'
                            },
                            data: [{ value: 2.3, name: 'å‡ºæ–™å«æ°´é‡' }]
                        }]
                    });
                    
                    // å®æ—¶è¶‹åŠ¿å›¾
                    const realtimeChart = echarts.init(document.getElementById('realtimeTrendChart'));
                    const timeData = [];
                    const speedData = [];
                    
                    for (let i = 23; i >= 0; i--) {
                        const time = new Date();
                        time.setHours(time.getHours() - i);
                        timeData.push(time.getHours() + ':00');
                        speedData.push((45 + Math.random() * 5).toFixed(1));
                    }
                    
                    realtimeChart.setOption({
                        tooltip: { trigger: 'axis' },
                        legend: { data: ['è¿›é£é€Ÿç‡'] },
                        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                        xAxis: {
                            type: 'category',
                            data: timeData,
                            boundaryGap: false
                        },
                        yAxis: {
                            type: 'value',
                            name: 'm/s'
                        },
                        series: [{
                            name: 'è¿›é£é€Ÿç‡',
                            type: 'line',
                            smooth: true,
                            data: speedData,
                            lineStyle: { color: '#2c5f9e', width: 3 },
                            itemStyle: { color: '#2c5f9e' },
                            markLine: {
                                data: [
                                    { yAxis: 50, name: 'ä¸Šé™', lineStyle: { color: '#e74c3c', type: 'dashed' } },
                                    { yAxis: 40, name: 'ä¸‹é™', lineStyle: { color: '#e74c3c', type: 'dashed' } }
                                ]
                            }
                        }]
                    });
                    
                    // å“åº”å¼è°ƒæ•´
                    window.addEventListener('resize', () => {
                        gauge1.resize();
                        gauge2.resize();
                        gauge3.resize();
                        realtimeChart.resize();
                    });
                },
                
                initModelCharts() {
                    // æ¨¡å‹è¯„ä¼°æŒ‡æ ‡å›¾
                    const modelChart = echarts.init(document.getElementById('modelMetricsChart'));
                    modelChart.setOption({
                        tooltip: { trigger: 'axis' },
                        legend: { data: ['å‡†ç¡®ç‡', 'å¬å›ç‡', 'F1åˆ†æ•°'] },
                        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                        xAxis: {
                            type: 'category',
                            data: ['v2.1', 'v2.2', 'v2.3']
                        },
                        yAxis: {
                            type: 'value',
                            min: 70,
                            max: 100,
                            name: '%'
                        },
                        series: [
                            {
                                name: 'å‡†ç¡®ç‡',
                                type: 'line',
                                data: [81.8, 84.2, 87.5],
                                smooth: true,
                                lineStyle: { color: '#2c5f9e', width: 3 },
                                itemStyle: { color: '#2c5f9e' }
                            },
                            {
                                name: 'å¬å›ç‡',
                                type: 'line',
                                data: [78.5, 80.1, 82.3],
                                smooth: true,
                                lineStyle: { color: '#27ae60', width: 3 },
                                itemStyle: { color: '#27ae60' }
                            },
                            {
                                name: 'F1åˆ†æ•°',
                                type: 'line',
                                data: [80.1, 82.1, 84.8],
                                smooth: true,
                                lineStyle: { color: '#f39c12', width: 3 },
                                itemStyle: { color: '#f39c12' }
                            }
                        ]
                    });
                    
                    window.addEventListener('resize', () => {
                        modelChart.resize();
                    });
                }
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>
